{"createdAt":"2025-05-02T06:55:46.545Z","updatedAt":"2025-05-02T06:56:05.000Z","id":"XCLsQCEH4XYdZkm1","name":"Supabase RAG Agent","active":false,"isArchived":false,"nodes":[{"parameters":{"options":{"allowFileUploads":true}},"type":"@n8n/n8n-nodes-langchain.chatTrigger","typeVersion":1.1,"position":[-440,280],"id":"f3baee75-9ee7-40a8-a88e-99380a03a211","name":"When chat message received","webhookId":"f02c8531-c67d-44e6-b071-1729bb8b41eb"},{"parameters":{"options":{}},"type":"@n8n/n8n-nodes-langchain.agent","typeVersion":1.8,"position":[-120,580],"id":"b4fb75f6-b3e7-46d8-a0f8-edee83c592b2","name":"AI Agent"},{"parameters":{"modelName":"models/gemini-2.0-flash-lite-preview-02-05","options":{}},"type":"@n8n/n8n-nodes-langchain.lmChatGoogleGemini","typeVersion":1,"position":[-260,840],"id":"203ea411-612f-40f0-96c7-9dcc8054d742","name":"Google Gemini Chat Model","credentials":{"googlePalmApi":{"id":"otZT3lIIC3p8nDj4","name":"Google Gemini(PaLM) Api account"}}},{"parameters":{"tableName":"n8n_supabase_rag_chat_histories","contextWindowLength":20},"type":"@n8n/n8n-nodes-langchain.memoryPostgresChat","typeVersion":1.3,"position":[-60,860],"id":"68330eec-6583-4419-97b3-63950a9df490","name":"Postgres Chat Memory","credentials":{"postgres":{"id":"3L0BjpaMuG3KHn2D","name":"Postgres account"}}},{"parameters":{"mode":"retrieve-as-tool","toolName":"dgl_sop_docs","toolDescription":"Use this vector store to answer FAQs about DGL SOPs","tableName":{"__rl":true,"value":"documents","mode":"list","cachedResultName":"documents"},"options":{}},"type":"@n8n/n8n-nodes-langchain.vectorStoreSupabase","typeVersion":1.1,"position":[180,840],"id":"434c73ac-60fb-4d18-ace9-11559dfb4fe7","name":"Supabase Vector Store","credentials":{"supabaseApi":{"id":"kqDK1r4UXr74mf35","name":"Supabase account"}}},{"parameters":{"modelName":"models/gemini-embedding-exp-03-07"},"type":"@n8n/n8n-nodes-langchain.embeddingsGoogleGemini","typeVersion":1,"position":[140,1020],"id":"25a85b25-01bd-4f4e-a9d4-97ad291aff81","name":"Embeddings Google Gemini1","credentials":{"googlePalmApi":{"id":"otZT3lIIC3p8nDj4","name":"Google Gemini(PaLM) Api account"}}},{"parameters":{"mode":"insert","tableName":{"__rl":true,"value":"documents","mode":"list","cachedResultName":"documents"},"embeddingBatchSize":10,"options":{}},"type":"@n8n/n8n-nodes-langchain.vectorStoreSupabase","typeVersion":1.1,"position":[0,0],"id":"193cf90c-301d-420b-a633-0f2bda710a6e","name":"Supabase Vector Store1","credentials":{"supabaseApi":{"id":"kqDK1r4UXr74mf35","name":"Supabase account"}}},{"parameters":{"modelName":"models/gemini-embedding-exp-03-07"},"type":"@n8n/n8n-nodes-langchain.embeddingsGoogleGemini","typeVersion":1,"position":[-20,280],"id":"bc68742c-365f-4105-9d69-1e6b373f7268","name":"Embeddings Google Gemini","credentials":{"googlePalmApi":{"id":"otZT3lIIC3p8nDj4","name":"Google Gemini(PaLM) Api account"}}},{"parameters":{"dataType":"binary","options":{}},"type":"@n8n/n8n-nodes-langchain.documentDefaultDataLoader","typeVersion":1,"position":[200,220],"id":"c307dc2c-1d1f-44fb-bed7-06caa9c0786b","name":"Default Data Loader"},{"parameters":{"options":{}},"type":"@n8n/n8n-nodes-langchain.textSplitterRecursiveCharacterTextSplitter","typeVersion":1,"position":[360,460],"id":"8b205d70-ad65-4fa2-9bfe-892fcc773ea7","name":"Recursive Character Text Splitter"}],"connections":{"When chat message received":{"main":[[{"node":"Supabase Vector Store1","type":"main","index":0}]]},"Google Gemini Chat Model":{"ai_languageModel":[[{"node":"AI Agent","type":"ai_languageModel","index":0}]]},"Postgres Chat Memory":{"ai_memory":[[{"node":"AI Agent","type":"ai_memory","index":0}]]},"Supabase Vector Store":{"ai_tool":[[{"node":"AI Agent","type":"ai_tool","index":0}]]},"Embeddings Google Gemini1":{"ai_embedding":[[{"node":"Supabase Vector Store","type":"ai_embedding","index":0}]]},"Embeddings Google Gemini":{"ai_embedding":[[{"node":"Supabase Vector Store1","type":"ai_embedding","index":0}]]},"Default Data Loader":{"ai_document":[[{"node":"Supabase Vector Store1","type":"ai_document","index":0}]]},"Recursive Character Text Splitter":{"ai_textSplitter":[[{"node":"Default Data Loader","type":"ai_textSplitter","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":null,"meta":{"templateCredsSetupCompleted":true},"pinData":{},"versionId":"2133314d-2cdc-4891-8ec6-db8912d29748","triggerCount":0,"tags":[{"createdAt":"2025-05-02T06:49:01.909Z","updatedAt":"2025-05-02T06:49:01.909Z","id":"Iryi6YFnuHzuPcv7","name":"DGL"}]}